{
	"info": {
		"_postman_id": "35e94b7f-b759-40c9-9090-60007a26d065",
		"name": "Vocare",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "15228504"
	},
	"item": [
		{
			"name": "Generate PDF",
			"item": [
				{
					"name": "Minimal required form",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"type\": \"fillout\",\n  \"form\": \"a\",\n  \"notify\": false,\n  \"form_payload\": {\n    \"patient_insurer_name\": \"TK\",\n    \"patient_insured_vorname\": \"John\",\n    \"patient_insured_nachname\": \"Doe\",\n    \"patient_birth_date\": \"1990-01-01\",\n    \"patient_payer_id\": \"12345\",\n    \"patient_insured_id\": \"67890\",\n    \"patient_status\": \"active\",\n    \"patient_facility_id\": \"facility123\",\n    \"patient_doctor_id\": \"doctor456\",\n    \"patient_date\": \"2024-01-15\",\n    \"order_first\": true,\n    \"diagnosis_icd10\": \"Z51.1\",\n    \"doctor_name\": \"Dr. Smith\",\n    \"doctor_dr_nr\": \"DOC-001\",\n    \"doctor_establishment_nr\": \"FAC-001\",\n    \"doctor_city\": \"Berlin\",\n    \"doctor_postal_code\": \"10115\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:3000/api/generate-pdf",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"generate-pdf"
							]
						}
					},
					"response": []
				},
				{
					"name": "SMS notification",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"type\": \"fillout\",\n  \"form\": \"a\",\n  \"notify\": true,\n  \"form_payload\": {\n    \"patient_insurer_name\": \"DAK\",\n    \"patient_insured_vorname\": \"Peter\",\n    \"patient_insured_nachname\": \"Weber\",\n    \"patient_birth_date\": \"1978-12-03\",\n    \"patient_payer_id\": \"DAK-789\",\n    \"patient_insured_id\": \"DAK-012\",\n    \"patient_status\": \"active\",\n    \"patient_facility_id\": \"FAC-003\",\n    \"patient_doctor_id\": \"DOC-003\",\n    \"patient_date\": \"2025-02-01\",\n    \"order_accident\": true,\n    \"diagnosis_icd10\": \"S72.0\",\n    \"doctor_name\": \"Dr. Weber\",\n    \"doctor_dr_nr\": \"DOC-003\",\n    \"doctor_establishment_nr\": \"FAC-003\",\n    \"doctor_city\": \"Köln\",\n    \"doctor_postal_code\": \"50667\",\n    \"notify\": true,\n    \"notification_types\": [\"sms\"],\n    \"recipient\": {\n      \"phone\": \"+491701234567\",\n      \"name\": \"Peter Weber\"\n    }\n  }\n}"
						},
						"url": {
							"raw": "http://localhost:3000/api/generate-pdf",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"generate-pdf"
							]
						}
					},
					"response": []
				},
				{
					"name": "All Notifications",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"type\": \"fillout\",\n  \"form\": \"a\",\n  \"notify\": true,\n  \"form_payload\": {\n    \"patient_insurer_name\": \"IKK\",\n    \"patient_insured_vorname\": \"Maria\",\n    \"patient_insured_nachname\": \"Garcia\",\n    \"patient_birth_date\": \"1992-08-14\",\n    \"patient_payer_id\": \"IKK-345\",\n    \"patient_insured_id\": \"IKK-678\",\n    \"patient_status\": \"active\",\n    \"patient_facility_id\": \"FAC-004\",\n    \"patient_doctor_id\": \"DOC-004\",\n    \"patient_date\": \"2025-03-10\",\n    \"order_ser\": true,\n    \"diagnosis_icd10\": \"F32.9\",\n    \"doctor_name\": \"Dr. Garcia\",\n    \"doctor_dr_nr\": \"DOC-004\",\n    \"doctor_establishment_nr\": \"FAC-004\",\n    \"doctor_city\": \"Frankfurt\",\n    \"doctor_postal_code\": \"60311\",\n    \"notify\": true,\n    \"notification_types\": [\"email\", \"sms\", \"push\"],\n    \"recipient\": {\n      \"email\": \"maria.garcia@example.com\",\n      \"phone\": \"+491609876543\",\n      \"name\": \"Maria Garcia\"\n    }\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:3000/api/generate-pdf",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"generate-pdf"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Notify",
			"item": [
				{
					"name": "/api/notify",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"event_type\": \"user_action\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:3000/api/notify",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"notify"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Logs",
			"item": [
				{
					"name": "api/log",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"event_type\": \"user_action\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:3000/api/log",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"log"
							]
						}
					},
					"response": []
				},
				{
					"name": "api/log",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"event_type\": \"error\",\n  \"details\": {\n    \"error_type\": \"validation_error\",\n    \"message\": \"Missing mandatory fields\",\n    \"missing\": [\"patient_birth_date\", \"patient_payer_id\"],\n    \"request_id\": \"req-abc-123\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:3000/api/log",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"api",
								"log"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Generate PDF ( Complete Form)",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"fillout\",\n  \"form\": \"a\",\n  \"notify\": true,\n  \"form_payload\": {\n    \"patient_id\": \"PAT-001\",\n    \"patient_insurer_name\": \"AOK Bayern\",\n    \"patient_insured_vorname\": \"Max\",\n    \"patient_insured_nachname\": \"Mustermann\",\n    \"patient_birth_date\": \"1985-07-21\",\n    \"patient_payer_id\": \"PAYER-123\",\n    \"patient_insured_id\": \"INS-987654\",\n    \"patient_status\": \"active\",\n    \"patient_facility_id\": \"FAC-55\",\n    \"patient_doctor_id\": \"DOC-22\",\n    \"patient_date\": \"2025-09-25\",\n    \"order_first\": true,\n    \"order_followup\": false,\n    \"order_accident\": false,\n    \"order_ser\": false,\n    \"diagnosis_icd10\": \"E11.9\",\n    \"diagnosis_restrictions\": \"Limited mobility and diabetes management required\",\n    \"restrictions_text\": \"Patient requires home care due to mobility limitations\",\n    \"period_from\": \"2025-10-01\",\n    \"period_to\": \"2025-12-31\",\n    \"care_meds_text\": \"Metformin 500mg twice daily, Insulin as needed\",\n    \"panel_freq_daily\": 2,\n    \"panel_freq_weekly\": 3,\n    \"panel_freq_monthly\": 1,\n    \"care_prepare_med_box\": true,\n    \"care_injection\": true,\n    \"care_injection_prepare\": true,\n    \"glucose_first_or_new\": true,\n    \"comp_stockings_on\": true,\n    \"wound_acute\": true,\n    \"wound_type\": \"Diabetic ulcer\",\n    \"s37_base_care\": true,\n    \"s37_freq_daily\": 2,\n    \"s37_freq_weekly\": 4,\n    \"other_measures\": \"Physiotherapy referral\",\n    \"instruction_text\": \"Comprehensive caregiver instruction\",\n    \"doctor_name\": \"Dr. Johannes Arzt\",\n    \"doctor_dr_nr\": \"DR-7788\",\n    \"doctor_establishment_nr\": \"EST-4455\",\n    \"doctor_city\": \"München\",\n    \"doctor_postal_code\": \"80331\",\n    \"medi_injection\": true,\n    \"medi_herrichten\": true,\n    \"p37_base_care_active\": true,\n    \"p37_base_care_daily\": 2,\n    \"p37_base_care_weekly\": 4,\n    \"notify\": true,\n    \"notification_types\": [\"email\", \"sms\"],\n    \"recipient\": {\n      \"email\": \"patient@example.com\",\n      \"phone\": \"+1234567890\",\n      \"name\": \"Max Mustermann\"\n    }\n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:3000/api/generate-pdf",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"api",
						"generate-pdf"
					]
				}
			},
			"response": []
		},
		{
			"name": "api/notify",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"pdf_ready\",\n  \"recipient\": {\n    \"patient_id\": \"PAT-001\",\n    \"name\": \"Max Mustermann\",\n    \"email\": \"patient@example.com\",\n    \"phone\": \"+4915112345678\"\n  },\n  \"document\": {\n    \"id\": \"UUID-OF-GENERATED-PDF\",\n    \"name\": \"Care Document - Max Mustermann\",\n    \"download_url\": \"https://your-supabase-public-url/storage/v1/object/public/document/UUID.pdf\",\n    \"created_at\": \"2025-09-25T12:00:00.000Z\"\n  },\n  \"message\": \"Your care document is ready for download.\",\n  \"notification_types\": [\"email\", \"sms\"]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:3000/api/notify",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"api",
						"notify"
					]
				}
			},
			"response": []
		},
		{
			"name": "api/log",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"event_type\": \"manual_log_entry\",\n  \"details\": {\n    \"note\": \"Test log from Postman\",\n    \"context\": {\n      \"user\": \"tester@example.com\",\n      \"env\": \"local\"\n    }\n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:3000/api/log",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"api",
						"log"
					]
				}
			},
			"response": []
		},
		{
			"name": "api/pdfs",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:3000/api/pdfs",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"api",
						"pdfs"
					]
				}
			},
			"response": []
		},
		{
			"name": "api/log",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:3000/api/log",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"api",
						"log"
					]
				}
			},
			"response": []
		}
	]
}